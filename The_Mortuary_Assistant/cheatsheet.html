<html>
<body>
  <img src="Sigils0+.jpg" usemap="#sigil_map">
  <map name="sigil_map">
	  <area shape="rect" coords="59,75,127,151" onclick="add_num('0')">
	  <area shape="rect" coords="133,75,200,151" onclick="add_num('1')">
	  <area shape="rect" coords="207,75,274,151" onclick="add_num('2')">
	  <area shape="rect" coords="279,75,350,151" onclick="add_num('3')">
	  <area shape="rect" coords="354,75,422,151" onclick="add_num('4')">
	  <area shape="rect" coords="428,75,500,151" onclick="add_num('5')">
	  <area shape="rect" coords="59,154,127,228" onclick="add_num('6')">
	  <area shape="rect" coords="133,154,200,228" onclick="add_num('7')">
	  <area shape="rect" coords="207,154,274,228" onclick="add_num('8')">
	  <area shape="rect" coords="279,154,350,228" onclick="add_num('9')">
	  <area shape="rect" coords="354,154,422,228" onclick="add_num('a')">
	  <area shape="rect" coords="428,154,500,228" onclick="add_num('b')">
  </map>
  <p>Click on the sigils, or input the index of the sigils you've seen so far according to the image above :</p>
  <textarea id="input" onkeyup="display()"></textarea>
	<p>IMMOLATION <img src="immo.jpg"></p>
  <div id="img_list_immo"></div>
	<p>INVIDIOUS <img src="invi.jpg"></p>
  <div id="img_list_invi"></div>
	<p>DESOLATION <img src="deso.jpg"></p>
  <div id="img_list_deso"></div>
</body>
<script type="text/javascript">
  function add_num(x){
	  document.getElementById("input").value+=x;
	  display();
  }
  function display(){
    let lists=[[1,6,7,9,10,11],
               [3,5,7,8,9,11],
               [0,2],
               [4,10],
               [1,5,9,11],
               [0,1,7,8,9,10,11],
               [2,3,5,6,8],
               [3,4,5],
               [1,4,6],
               [0,2,3],
               [8,10],
               [0,2,4,6,7]];

    let s=document.getElementById("input").value;
    if(s.length==0){
	    document.getElementById("img_list_immo").innerHTML="";
	    document.getElementById("img_list_invi").innerHTML="";
	    document.getElementById("img_list_deso").innerHTML="";
	    return;
    }
    let i=0;
    let ind=0;
    if(s[i]=='a') ind=10;
    else if(s[i]=='b') ind=11;
    else if(s[i]>='0'&&s[i]<='9') ind=parseInt(s[i]);
    else {document.getElementById("img_list").innerHTML=""; return;}
    let final_list=lists[ind];
    for(i=1;i<s.length;i++){
      if(s[i]=='a') ind=10;
      else if(s[i]=='b') ind=11;
      else if(s[i]>='0'&&s[i]<='9') ind=parseInt(s[i]);
      else{
	    document.getElementById("img_list_immo").innerHTML="";
	    document.getElementById("img_list_invi").innerHTML="";
	    document.getElementById("img_list_deso").innerHTML="";
	    return;
    }
      final_list=final_list.filter(x=>lists[ind].includes(x));
    }
    let imgs1="";
    let imgs2="";
    let imgs3="";
    for(i=0;i<final_list.length;i++){
      if(final_list[i]<=3) imgs1+="<img src=\""+final_list[i]+".jpg\">";
      else if(final_list[i]<=7) imgs2+="<img src=\""+final_list[i]+".jpg\">";
      else imgs3+="<img src=\""+final_list[i]+".jpg\">";
    }
    document.getElementById("img_list_immo").innerHTML=imgs1;
    document.getElementById("img_list_invi").innerHTML=imgs2;
    document.getElementById("img_list_deso").innerHTML=imgs3;
  }
</script>
</html>
